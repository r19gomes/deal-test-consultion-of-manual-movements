IF object_id(N'[dbo].[FK_dbo.MOVIMENTO_MANUAL_dbo.PRODUTO_COSIF_COD_PRODUTO_COD_COSIF]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[MOVIMENTO_MANUAL] DROP CONSTRAINT [FK_dbo.MOVIMENTO_MANUAL_dbo.PRODUTO_COSIF_COD_PRODUTO_COD_COSIF]
IF object_id(N'[dbo].[FK_dbo.PRODUTO_COSIF_dbo.PRODUTO_COD_PRODUTO]', N'F') IS NOT NULL
    ALTER TABLE [dbo].[PRODUTO_COSIF] DROP CONSTRAINT [FK_dbo.PRODUTO_COSIF_dbo.PRODUTO_COD_PRODUTO]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_COD_PRODUTO_COD_COSIF' AND object_id = object_id(N'[dbo].[MOVIMENTO_MANUAL]', N'U'))
    DROP INDEX [IX_COD_PRODUTO_COD_COSIF] ON [dbo].[MOVIMENTO_MANUAL]
IF EXISTS (SELECT name FROM sys.indexes WHERE name = N'IX_COD_PRODUTO' AND object_id = object_id(N'[dbo].[PRODUTO_COSIF]', N'U'))
    DROP INDEX [IX_COD_PRODUTO] ON [dbo].[PRODUTO_COSIF]
ALTER TABLE [dbo].[MOVIMENTO_MANUAL] DROP CONSTRAINT [PK_dbo.MOVIMENTO_MANUAL]
ALTER TABLE [dbo].[PRODUTO_COSIF] DROP CONSTRAINT [PK_dbo.PRODUTO_COSIF]
ALTER TABLE [dbo].[PRODUTO] DROP CONSTRAINT [PK_dbo.PRODUTO]
DECLARE @var0 nvarchar(128)
SELECT @var0 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.MOVIMENTO_MANUAL')
AND col_name(parent_object_id, parent_column_id) = 'COD_PRODUTO';
IF @var0 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[MOVIMENTO_MANUAL] DROP CONSTRAINT [' + @var0 + ']')
ALTER TABLE [dbo].[MOVIMENTO_MANUAL] ALTER COLUMN [COD_PRODUTO] [char](4) NOT NULL
DECLARE @var1 nvarchar(128)
SELECT @var1 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.MOVIMENTO_MANUAL')
AND col_name(parent_object_id, parent_column_id) = 'COD_COSIF';
IF @var1 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[MOVIMENTO_MANUAL] DROP CONSTRAINT [' + @var1 + ']')
ALTER TABLE [dbo].[MOVIMENTO_MANUAL] ALTER COLUMN [COD_COSIF] [char](11) NOT NULL
DECLARE @var2 nvarchar(128)
SELECT @var2 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.PRODUTO_COSIF')
AND col_name(parent_object_id, parent_column_id) = 'COD_PRODUTO';
IF @var2 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[PRODUTO_COSIF] DROP CONSTRAINT [' + @var2 + ']')
ALTER TABLE [dbo].[PRODUTO_COSIF] ALTER COLUMN [COD_PRODUTO] [char](4) NOT NULL
DECLARE @var3 nvarchar(128)
SELECT @var3 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.PRODUTO_COSIF')
AND col_name(parent_object_id, parent_column_id) = 'COD_COSIF';
IF @var3 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[PRODUTO_COSIF] DROP CONSTRAINT [' + @var3 + ']')
ALTER TABLE [dbo].[PRODUTO_COSIF] ALTER COLUMN [COD_COSIF] [char](11) NOT NULL
DECLARE @var4 nvarchar(128)
SELECT @var4 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.PRODUTO_COSIF')
AND col_name(parent_object_id, parent_column_id) = 'COD_CLASSIFICACAO';
IF @var4 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[PRODUTO_COSIF] DROP CONSTRAINT [' + @var4 + ']')
ALTER TABLE [dbo].[PRODUTO_COSIF] ALTER COLUMN [COD_CLASSIFICACAO] [char](6) NULL
DECLARE @var5 nvarchar(128)
SELECT @var5 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.PRODUTO_COSIF')
AND col_name(parent_object_id, parent_column_id) = 'STA_STATUS';
IF @var5 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[PRODUTO_COSIF] DROP CONSTRAINT [' + @var5 + ']')
ALTER TABLE [dbo].[PRODUTO_COSIF] ALTER COLUMN [STA_STATUS] [char](1) NULL
DECLARE @var6 nvarchar(128)
SELECT @var6 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.PRODUTO')
AND col_name(parent_object_id, parent_column_id) = 'COD_PRODUTO';
IF @var6 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[PRODUTO] DROP CONSTRAINT [' + @var6 + ']')
ALTER TABLE [dbo].[PRODUTO] ALTER COLUMN [COD_PRODUTO] [char](4) NOT NULL
DECLARE @var7 nvarchar(128)
SELECT @var7 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.PRODUTO')
AND col_name(parent_object_id, parent_column_id) = 'DES_PRODUTO';
IF @var7 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[PRODUTO] DROP CONSTRAINT [' + @var7 + ']')
ALTER TABLE [dbo].[PRODUTO] ALTER COLUMN [DES_PRODUTO] [varchar](30) NULL
DECLARE @var8 nvarchar(128)
SELECT @var8 = name
FROM sys.default_constraints
WHERE parent_object_id = object_id(N'dbo.PRODUTO')
AND col_name(parent_object_id, parent_column_id) = 'STA_STATUS';
IF @var8 IS NOT NULL
    EXECUTE('ALTER TABLE [dbo].[PRODUTO] DROP CONSTRAINT [' + @var8 + ']')
ALTER TABLE [dbo].[PRODUTO] ALTER COLUMN [STA_STATUS] [char](1) NULL
ALTER TABLE [dbo].[MOVIMENTO_MANUAL] ADD CONSTRAINT [PK_dbo.MOVIMENTO_MANUAL] PRIMARY KEY ([DAT_MES], [DAT_ANO], [NUM_LANCAMENTO], [COD_PRODUTO], [COD_COSIF])
ALTER TABLE [dbo].[PRODUTO_COSIF] ADD CONSTRAINT [PK_dbo.PRODUTO_COSIF] PRIMARY KEY ([COD_PRODUTO], [COD_COSIF])
ALTER TABLE [dbo].[PRODUTO] ADD CONSTRAINT [PK_dbo.PRODUTO] PRIMARY KEY ([COD_PRODUTO])
CREATE INDEX [IX_COD_PRODUTO_COD_COSIF] ON [dbo].[MOVIMENTO_MANUAL]([COD_PRODUTO], [COD_COSIF])
CREATE INDEX [IX_COD_PRODUTO] ON [dbo].[PRODUTO_COSIF]([COD_PRODUTO])
ALTER TABLE [dbo].[MOVIMENTO_MANUAL] ADD CONSTRAINT [FK_dbo.MOVIMENTO_MANUAL_dbo.PRODUTO_COSIF_COD_PRODUTO_COD_COSIF] FOREIGN KEY ([COD_PRODUTO], [COD_COSIF]) REFERENCES [dbo].[PRODUTO_COSIF] ([COD_PRODUTO], [COD_COSIF]) ON DELETE CASCADE
ALTER TABLE [dbo].[PRODUTO_COSIF] ADD CONSTRAINT [FK_dbo.PRODUTO_COSIF_dbo.PRODUTO_COD_PRODUTO] FOREIGN KEY ([COD_PRODUTO]) REFERENCES [dbo].[PRODUTO] ([COD_PRODUTO]) ON DELETE CASCADE
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201809180208096_AutomaticMigration', N'deal.Migrations.Configuration',  0x1F8B0800000000000400E55BDB6EE336107D2FD07F10F458EC4671D2DD6E037B17AA9CB446633BB0ECA06F0623D10E518972452AB051F4CBFAD04FEA2F7474BFCBA2A55C164560209686672E9C190E39F4BF7FFF33FCB2B72DE909BB8C3874240FCECE650953C33109DD8E648F6FDE7F92BF7CFEF69BE1B569EFA5FB98EED2A78391948DE447CE77578AC28C476C23766613C37598B3E16786632BC874948BF3F31F95C140C100210396240D171EE5C4C6C117F8AA39D4C03BEE216BEA98D862D17378A307A8D20CD998ED908147B28991751692C9926A110422E8D8DAC812A2D4E1888380572B8675EE3A74ABEFE001B296871D06BA0DB2188E04BF4AC9DBEA707EE1EBA0A4036328C363DCB105010797915194E2F0934C2B274603B35D8379F9C1D73A30DD489E3A4F606FCA9D29A2B19965A9C8F84AB35C7F50CECA675563DF493EC5BBC423C071FCBF7792E659DC73F188628FBB3EC59DF76011E3577C583ABF633AA29E6565450561E15DEE013CBA739D1D76F9618137B10218A65B394EA752A715DDCCB3B1DB8E149E981E7734088AADE0084636C50143A5A86F029055359C8609E59717B23403A3A1070B271EAC34020436E802101B27C4186383D808DCE5CE85FFA244F149967403F988E2F00583865C205E21E7C8D214ED6F31DDF2C791FCBD2CDD903D36E3EF11F88A1248503084BB1E3E9D793037B5BC0783E7603E461CFDE2B828312DE27809C1250C748F2CC77DB6091A6366B8C4404D93F3E1BC95819A19AD98875CD2C466F0E1143633F444B6414A6B987D88B205B6022AF64876E1325299EDD6856137AE632F1CAB26AFE6A9D7BAE3B90688B8745A0F5922778B795EABA19226F5C6549F8512CAF3A5812F9EE45F3AD3FE7F1351A8B2662106DC21D29B63FD630FA1AE83EB79AC49D15E033D893216841979A1608F235720D8E3FC2098C22AF52985F03AA14ED5A8252AA5AA7ACA3E32D429C9E90DE6A5379E66DAACE5977DACE52F1CE0915159C352DE311A8AB17C3C6EDA4483CA98639040D4BA053B11336F8A6B6A4AAD23389C844A2BC0A4409C901D4406C83792BF2B19BD0DA7C43A254E954C067231CCE6748C2DCCB1A41AE19E5943CC4066D905C09066FE0944267621ABC2CE5E83198758279497C3985083EC90D5569502C049158A92702DBE19E31DA62608DD760E7B1127E15A30E9310B0E958C9F36BB6F8B35B4CEBB44AAE7D4CDAACF32DAFBB4C8322E1046AFEFE1ED15EBC1B784CB71A1E868EF19AFA54AEF91152E173086C308ECC6D115E9FF847D7330FF35DEF38AAA69C5705438B168292DFABF0FAF635E5F20A70B5663A495022B0F5C5C984BA81591D412B21EAC1A2763E91258555590A13F5A42141D4264754EF42B5BABE468226B71056E39D7E48DD2C2606D364965CB892E0BA72E0C199D2B5CBAC19C02CB40EBF96AB06E5C0F26019E363994B0CB117743949A76C8708A763B28AA33ED91E889A487BD11EDBD2EDE3BB0430CC560152D8444DA8413775CB4C585B7C18102BE212EE3FE11E703F20B7BCDB44B6435E9AC26FC63A67519AB3CB971768847FAFF87A38F75342A169208E40614F6A903DD7195BF35C2045D2C6421B7EA985F732CCFA6D14E4D5DAEA7D77AD5FA5487119CF41731D4D95C04233EECCFC2CC56D3F5AD3AD3D4E9F56C298456586AB3A0DA7CBCBE5BCCC7AB13118385B808A8CDF5C98D085C7A045FB2FDFC7E22AC6F74109FC5BA576FD7F0992F84C44AB7E939B9AEF5357CB4C5445385E44A4ED68B065BE92B7531A9C41A2A058F2F153DA5002BD5B1F9C86D15D785947A6A5097CB0AF1886E81F1D53A7EE5916F09F556D50117BC4DD0DFE2D39F2CA0BE54D7F059AE2A73DA2B7B5B573FEBE862AFEE5D0D09E704B43736FDA562AB4892704F8AAE4271358C0A9DE317524A954F48E27763A13E30FDAA473F308EED339FE04CFFC3D22C02FAA604503E900D663C3CA4962FCE071785AB2D6FE79A89C29869F572D76402BBE7FD48FE53FAEB9423F9DA62A986B6B228AABA1772A4F2A918D2188035F495D9FB782721D13ADC0113DF8B44FB01B1314E8728DA28EED6F47C0B2167D79087F188DC2657F2075E4993DFD699B1EBC4DEEFA4B90BE176259D83CF151A2F27C816CD61AF920D0A92F9DDDF13263853CA46938338F66FDC5DE4A6E707F17B27696D1B02537FF7408C1EEF9EE42BDE90CB13724303172EA0A4D86D3A54B9F2B71ED8BF72D204DCEB4D8C6E59F005534F4FD1F8FC31D82D7A2A8AE01AF08FA2EE97AD87EA04EED7F35EDCE93AB8512757C855ADF5917D299C329E6FCE7AEC0347D3FC1A9DD886D3E9AE4DE82E4DDEBACD996806EDD0CEED83FBDBEEDE769CF167F2C3EADD47E7F6713F570EBA3B85D8B2DEB9E7FA1A02BF5067B5DCB168D930CDF94DCB9E6978260075F8837F0F2B5C2B92227D3D55672BF5B66D1B341B526D9AAB55BCD31D48553158C3F808CFE3ECDE568336A74EF96C4EA8155B05D3D0E0FE2A9AB01D956C91958FF5D29EA5BB5A3ED883D492F93D1AE44546B62984FFEB348A8D5C5249682674E3C4E9AD20514C526AFB7104BB71A4BA9C6C90C1E1B581190B2E4BDE23CB03926BFB019B133AF7F8CEE3A032B61FAC43D6187E8E6CE21FB490F3320FE7BBE076641F2A8098C43F5098D39F3C629989DC37E552BD0EC24FBE3F63781ECE25E4728EB7870469E6D0964091F992356389ED9D05606C4E75F4844F916DC5F02DDE22E3109FCFD6831C9F88BCD9876382B62EB25984918E87AFE0C3A6BDFFFC1FF307844F96390000 , N'6.2.0-61023')

